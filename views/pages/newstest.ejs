<!DOCTYPE html>
<html>
  <head>
    <%- include('../partials/header.ejs') %>
    <title>Crypto Calc</title>
    <link rel="stylesheet" href="stylesheets/al-bio-css.css">
    <!-- Scrolling bar library; Source: https://github.com/tjenkinson/dynamic-marquee -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/dynamic-marquee@2"></script>
    <!-- My crypto API -->
    <script src="/data/cryptoAPI.js"></script>
    <link rel="stylesheet" type="text/css" href="stylesheets/mainpage.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  </head>
  <style>
  @import url(https://fonts.googleapis.com/css?family=Exo+2:200i);
  :root {
  /* Base font size */
  font-size: 3px;
  /* Set neon color */
  --neon-text-color: #f40;
  --neon-border-color: #08f;
  }
body {
  font-family: 'Exo 2', sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  background: #000;
  min-height: 20vh;
  background-image: url('https://i.imgur.com/WJFzrOG.png');
  }
h1 {
  font-size: 13rem;
  font-weight: 200;
  font-style: italic;
  color: #fff;
  margin: 2em 35%;
  padding: 4rem;
  border: 0.4rem solid #fff;
  border-radius: 2rem;
  text-transform: uppercase;
  animation: flicker 1.5s infinite alternate;
}
h1::-moz-selection {
  background-color: var(--neon-border-color);
  color: var(--neon-text-color);
}
h1::selection {
  background-color: var(--neon-border-color);
  color: var(--neon-text-color);
}
h1:focus {
  outline: none;
}
/* Animate neon flicker */
@keyframes flicker {
    0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% {
        text-shadow:
            -0.2rem -0.2rem 1rem #fff,
            0.2rem 0.2rem 1rem #fff,
            0 0 2rem var(--neon-text-color),
            0 0 4rem var(--neon-text-color),
            0 0 6rem var(--neon-text-color),
            0 0 8rem var(--neon-text-color),
            0 0 10rem var(--neon-text-color);
        box-shadow:
            0 0 .5rem #fff,
            inset 0 0 .5rem #fff,
            0 0 2rem var(--neon-border-color),
            inset 0 0 2rem var(--neon-border-color),
            0 0 4rem var(--neon-border-color),
            inset 0 0 4rem var(--neon-border-color);
    }
    20%, 24%, 55% {
        text-shadow: none;
        box-shadow: none;
    }
}
ul {
  border: 0.4rem solid white;
  border-radius: 5px;
  list-style-type: none;
  text-align: center;
  margin: 6.5em 25em 4em 8em;
  padding-left: 0em;
}
li {
  border-bottom: 0.4rem solid white;
  padding-bottom: 2em;
  box-shadow: 0 0 .5rem #fff,
  inset 0 0 .5rem #fff,
  0 0 0rem var(--neon-border-color),
  inset 0 0 0rem var(--neon-border-color),
  0 0 4rem var(--neon-border-color),
  inset 0 0 0rem var(--neon-border-color);
  background-color: #141d26;
}
li:last-child {
  border-bottom: none;
}
article {
  padding: 1em 2em 3em 2em;
  text-align: left;
}
a:link {
  text-shadow: -0.2rem -0.2rem 1rem #fff,
  0.2rem 0.2rem 1rem #fff,
  0 0 2rem var(--neon-text-color),
  0 0 4rem var(--neon-text-color),
  0 0 6rem var(--neon-text-color),
  0 0 8rem var(--neon-text-color),
  0 0 10rem var(--neon-text-color);
  color: white;
  text-decoration: none;
}
a:visited {
  color: red;
}
a:hover {
  text-shadow: -0.2rem -0.2rem 1rem #fff,
  0.2rem 0.2rem 1rem #fff,
  0 0 2rem var(--neon-border-color),
  0 0 4rem var(--neon-border-color),
  0 0 6rem var(--neon-border-color),
  0 0 8rem var(--neon-border-color),
  0 0 10rem var(--neon-border-color);
  text-decoration: none;
}
a:active {
  text-shadow: -0.2rem -0.2rem 1rem #fff,
  0.2rem 0.2rem 1rem #fff,
  0 0 2rem var(--neon-text-color),
  0 0 4rem var(--neon-text-color),
  0 0 6rem var(--neon-text-color),
  0 0 8rem var(--neon-text-color),
  0 0 10rem var(--neon-text-color);
  color: white;
  text-decoration: none;
}
img {
  float: left;
  margin-right: 1em;
  border-radius: 5px;
}
p {
  color: white;
}
.button{
  background-color: #141d26;
  color: var(--neon-text-color);
  font-size: 5rem;
  font-weight: 200;
  font-style: italic;
  text-shadow: -0.2rem -0.2rem 1rem #fff,
  0.2rem 0.2rem 1rem #fff,
  0 0 2rem var(--neon-text-color),
  0 0 4rem var(--neon-text-color),
  0 0 6rem var(--neon-text-color),
  0 0 8rem var(--neon-text-color),
  0 0 10rem var(--neon-text-color);
  color: #fff;
  margin: 0em 1em 4em 1em;
  padding: 4rem 6rem 5.5rem;
  border: 0.4rem solid #fff;
  border-radius: 2rem;
  box-shadow: 0 0 .5rem #fff,
  inset 0 0 .5rem #fff,
  0 0 2rem var(--neon-border-color),
  inset 0 0 2rem var(--neon-border-color),
  0 0 4rem var(--neon-border-color),
  inset 0 0 4rem var(--neon-border-color);
  text-transform: uppercase;
}

.last-button {
  margin-right: 17em;
}

aside {
  border: 0.4rem solid white;
  border-radius: 5px 0px 0px 5px;
  float: right;
  width: 20em;
  margin: 1em 0em 1em 1em;
  box-shadow: 0 0 .5rem #fff,
  inset 0 0 .5rem #fff,
  0 0 2rem var(--neon-border-color),
  inset 0 0 2rem var(--neon-border-color),
  0 0 4rem var(--neon-border-color),
  inset 0 0 4rem var(--neon-border-color);
  background-color: #141d26;
}
  </style>
  <body>
    <div  style="text-align: center">
      <h1 contenteditable spellcheck="false">Crypto News</h1>

        <aside>
          <a class="twitter-timeline" data-lang="en" data-height="1940" data-chrome="transparent" data-theme="dark" href="https://twitter.com/BartenfeldPaul/lists/1406779800317005829?ref_src=twsrc%5Etfw">
            Tweets by Crypto People
          </a>
          <script async src="https://platform.twitter.com/widgets.js" charset="utf-8">
          </script>
        </aside>

      <ul>
        <li>
          <article>
            <h4><a id="title_0" href="" target="_blank"></a></h4>
            <p><img id="image_0" src="" onerror="this.src='https://www.flexx.co/assets/camaleon_cms/image-not-found-4a963b95bf081c3ea02923dceaeb3f8085e1a654fc54840aac61a57a60903fef.png'" width="auto" height="100"/></p>
            <p id="preview_0"></p>
          </article>
        </li>
        <li>
          <article>
            <h4><a id="title_1" href="" target="_blank"></a></h4>
            <p><img id="image_1" src="" onerror="this.src='https://www.flexx.co/assets/camaleon_cms/image-not-found-4a963b95bf081c3ea02923dceaeb3f8085e1a654fc54840aac61a57a60903fef.png'" width="auto" height="100"/></p>
            <p id="preview_1"></p>
          </article>
        </li>
        <li>
          <article>
            <h4><a id="title_2" href="" target="_blank"></a></h4>
            <p><img id="image_2" src="" onerror="this.src='https://www.flexx.co/assets/camaleon_cms/image-not-found-4a963b95bf081c3ea02923dceaeb3f8085e1a654fc54840aac61a57a60903fef.png'" width="auto" height="100"/></p>
            <p id="preview_2"></p>
          </article>
        </li>
        <li>
          <article>
            <h4><a id="title_3" href="" target="_blank"></a></h4>
            <p><img id="image_3" src="" onerror="this.src='https://www.flexx.co/assets/camaleon_cms/image-not-found-4a963b95bf081c3ea02923dceaeb3f8085e1a654fc54840aac61a57a60903fef.png'" width="auto" height="100"/></p>
            <p id="preview_3"></p>
          </article>
        </li>
        <li>
          <article>
            <h4><a id="title_4" href="" target="_blank"></a></h4>
            <p><img id="image_4" src="" onerror="this.src='https://www.flexx.co/assets/camaleon_cms/image-not-found-4a963b95bf081c3ea02923dceaeb3f8085e1a654fc54840aac61a57a60903fef.png'" width="auto" height="100"/></p>
            <p id="preview_4"></p>
          </article>
        </li>
        <li>
          <article>
            <h4><a id="title_5" href="" target="_blank"></a></h4>
            <p><img id="image_5" src="" onerror="this.src='https://www.flexx.co/assets/camaleon_cms/image-not-found-4a963b95bf081c3ea02923dceaeb3f8085e1a654fc54840aac61a57a60903fef.png'" width="auto" height="100"/></p>
            <p id="preview_5"></p>
          </article>
        </li>
        <li>
          <article>
            <h4><a id="title_6" href="" target="_blank"></a></h4>
            <p><img id="image_6" src="" onerror="this.src='https://www.flexx.co/assets/camaleon_cms/image-not-found-4a963b95bf081c3ea02923dceaeb3f8085e1a654fc54840aac61a57a60903fef.png'" width="auto" height="100"/></p>
            <p id="preview_6"></p>
          </article>
        </li>
        <li>
          <article>
            <h4><a id="title_7" href="" target="_blank"></a></h4>
            <p><img id="image_7" src="" onerror="this.src='https://www.flexx.co/assets/camaleon_cms/image-not-found-4a963b95bf081c3ea02923dceaeb3f8085e1a654fc54840aac61a57a60903fef.png'" width="auto" height="100"/></p>
            <p id="preview_7"></p>
          </article>
        </li>
        <li>
          <article>
            <h4><a id="title_8" href="" target="_blank"></a></h4>
            <p><img id="image_8" src="" onerror="this.src='https://www.flexx.co/assets/camaleon_cms/image-not-found-4a963b95bf081c3ea02923dceaeb3f8085e1a654fc54840aac61a57a60903fef.png'" width="auto" height="100"/></p>
            <p id="preview_8"></p>
          </article>
        </li>
        <li>
          <article>
            <h4><a id="title_9" href="" target="_blank"></a></h4>
            <p><img id="image_9" src="" onerror="this.src='https://www.flexx.co/assets/camaleon_cms/image-not-found-4a963b95bf081c3ea02923dceaeb3f8085e1a654fc54840aac61a57a60903fef.png'" width="auto" height="100"/></p>
            <p id="preview_9"></p>
          </article>
        </li>
      </ul>
        <button id="prevButton" style="background-color: #2980B9" onclick="oneClicked()" class= "button" disabled>Prev.</button>
        <button id="firstButton" style="background-color: #2980B9" onclick="oneClicked()" class= "button" disabled>1</button>
        <button id="secondButton" onclick="twoClicked()" class= "button">2</button>
        <button id="thirdButton" onclick="threeClicked()" class= "button">3</button>
        <button id="fourthButton" onclick="fourClicked()" class= "button" disabled>...</button>
        <button id="fifthButton" onclick="tenClicked()" class= "button">10</button>
        <button id="nextButton" onclick="twoClicked()" class= "button last-button">Next</button>
    </div>

      <div id="marquee"></div>

      <input type="checkbox" id="check">
      <header>
        <label for="check">
          <i class="fas fa-bars" id="sidebar_btn"></i>
        </label>
        <div class="left_area">
          <h3>Main</h3>
        </div>
        <div class="right_area">
        <div>
      </header>

      <div class="sidebar">
        <center>
          <img src = "https://i.ibb.co/G9CVPYh/bitcoin-dd8a16.png" class="profile_image" alt = "">
          <h4>Crypto Calc</h4>
        </center>
        <a href="/"><i class="fas fa-coins"><span> Main</span></i></a>
        <a href="/calculator"><i class="fas fa-calculator"><span> Calculator</span></i></a>
        <a href="/news"><i class="fas fa-newspaper"><span> News</span></i></a>
        <a href="/database"><i class="fas fa-database"><span> Database</span></i></a>
        <a href="/game"><i class="fas fa-gamepad"><span> Game</span></i></a>
      </div>

  </body>
  <script>
  var page_num = 1;
  var i = 0;
  fetch("https://newsapi.org/v2/everything?apiKey=a791d1a1c2674ac8914503c53d9a1e8b&language=en&q=bitcoin&page=" + page_num).then(r => r.json()).then(data => {
      var num_articles = data.totalResults;
      console.log(num_articles + " articles found");
      var news_descript = data.articles[i].content.substring(0, 200);
      var ellipses = news_descript.charAt(199);
      var last_space = news_descript.lastIndexOf(" ");
      var last_period = news_descript.lastIndexOf(".");
      if (last_space > last_period) {
        var pretty_descript = news_descript.substring(0, last_space+1) + ellipses;
      }
      else if (last_period > last_space) {
        var pretty_descript = news_descript.substring(0, last_period) + ellipses;
      }
      else {
        var pretty_descript = news_descript;
      }
      document.getElementById("title_0").innerHTML = data.articles[i].title;
      document.getElementById("title_0").href = data.articles[i].url;
      document.getElementById("image_0").src = data.articles[i].urlToImage;
      document.getElementById("preview_0").innerHTML = pretty_descript;
      var news_descript = data.articles[i+1].content.substring(0, 200);
      var ellipses = news_descript.charAt(199);
      var last_space = news_descript.lastIndexOf(" ");
      var last_period = news_descript.lastIndexOf(".");
      if (last_space > last_period) {
        var pretty_descript = news_descript.substring(0, last_space+1) + ellipses;
      }
      else if (last_period > last_space) {
        var pretty_descript = news_descript.substring(0, last_period) + ellipses;
      }
      else {
        var pretty_descript = news_descript;
      }
      document.getElementById("title_1").innerHTML = data.articles[i+1].title;
      document.getElementById("title_1").href = data.articles[i+1].url;
      document.getElementById("image_1").src = data.articles[i+1].urlToImage;
      document.getElementById("preview_1").innerHTML = pretty_descript;
      var news_descript = data.articles[i+2].content.substring(0, 200);
      var ellipses = news_descript.charAt(199);
      var last_space = news_descript.lastIndexOf(" ");
      var last_period = news_descript.lastIndexOf(".");
      if (last_space > last_period) {
        var pretty_descript = news_descript.substring(0, last_space+1) + ellipses;
      }
      else if (last_period > last_space) {
        var pretty_descript = news_descript.substring(0, last_period) + ellipses;
      }
      else {
        var pretty_descript = news_descript;
      }
      document.getElementById("title_2").innerHTML = data.articles[i+2].title;
      document.getElementById("title_2").href = data.articles[i+2].url;
      document.getElementById("image_2").src = data.articles[i+2].urlToImage;
      document.getElementById("preview_2").innerHTML = pretty_descript;
      var news_descript = data.articles[i+3].content.substring(0, 200);
      var ellipses = news_descript.charAt(199);
      var last_space = news_descript.lastIndexOf(" ");
      var last_period = news_descript.lastIndexOf(".");
      if (last_space > last_period) {
        var pretty_descript = news_descript.substring(0, last_space+1) + ellipses;
      }
      else if (last_period > last_space) {
        var pretty_descript = news_descript.substring(0, last_period) + ellipses;
      }
      else {
        var pretty_descript = news_descript;
      }
      document.getElementById("title_3").innerHTML = data.articles[i+3].title;
      document.getElementById("title_3").href = data.articles[i+3].url;
      document.getElementById("image_3").src = data.articles[i+3].urlToImage;
      document.getElementById("preview_3").innerHTML = pretty_descript;
      var news_descript = data.articles[i+4].content.substring(0, 200);
      var ellipses = news_descript.charAt(199);
      var last_space = news_descript.lastIndexOf(" ");
      var last_period = news_descript.lastIndexOf(".");
      if (last_space > last_period) {
        var pretty_descript = news_descript.substring(0, last_space+1) + ellipses;
      }
      else if (last_period > last_space) {
        var pretty_descript = news_descript.substring(0, last_period) + ellipses;
      }
      else {
        var pretty_descript = news_descript;
      }
      document.getElementById("title_4").innerHTML = data.articles[i+4].title;
      document.getElementById("title_4").href = data.articles[i+4].url;
      document.getElementById("image_4").src = data.articles[i+4].urlToImage;
      document.getElementById("preview_4").innerHTML = pretty_descript;
      var news_descript = data.articles[i+5].content.substring(0, 200);
      var ellipses = news_descript.charAt(199);
      var last_space = news_descript.lastIndexOf(" ");
      var last_period = news_descript.lastIndexOf(".");
      if (last_space > last_period) {
        var pretty_descript = news_descript.substring(0, last_space+1) + ellipses;
      }
      else if (last_period > last_space) {
        var pretty_descript = news_descript.substring(0, last_period) + ellipses;
      }
      else {
        var pretty_descript = news_descript;
      }
      document.getElementById("title_5").innerHTML = data.articles[i+5].title;
      document.getElementById("title_5").href = data.articles[i+5].url;
      document.getElementById("image_5").src = data.articles[i+5].urlToImage;
      document.getElementById("preview_5").innerHTML = pretty_descript;
      var news_descript = data.articles[i+6].content.substring(0, 200);
      var ellipses = news_descript.charAt(199);
      var last_space = news_descript.lastIndexOf(" ");
      var last_period = news_descript.lastIndexOf(".");
      if (last_space > last_period) {
        var pretty_descript = news_descript.substring(0, last_space+1) + ellipses;
      }
      else if (last_period > last_space) {
        var pretty_descript = news_descript.substring(0, last_period) + ellipses;
      }
      else {
        var pretty_descript = news_descript;
      }
      document.getElementById("title_6").innerHTML = data.articles[i+6].title;
      document.getElementById("title_6").href = data.articles[i+6].url;
      document.getElementById("image_6").src = data.articles[i+6].urlToImage;
      document.getElementById("preview_6").innerHTML = pretty_descript;
      var news_descript = data.articles[i+7].content.substring(0, 200);
      var ellipses = news_descript.charAt(199);
      var last_space = news_descript.lastIndexOf(" ");
      var last_period = news_descript.lastIndexOf(".");
      if (last_space > last_period) {
        var pretty_descript = news_descript.substring(0, last_space+1) + ellipses;
      }
      else if (last_period > last_space) {
        var pretty_descript = news_descript.substring(0, last_period) + ellipses;
      }
      else {
        var pretty_descript = news_descript;
      }
      document.getElementById("title_7").innerHTML = data.articles[i+7].title;
      document.getElementById("title_7").href = data.articles[i+7].url;
      document.getElementById("image_7").src = data.articles[i+7].urlToImage;
      document.getElementById("preview_7").innerHTML = pretty_descript;
      var news_descript = data.articles[i+8].content.substring(0, 200);
      var ellipses = news_descript.charAt(199);
      var last_space = news_descript.lastIndexOf(" ");
      var last_period = news_descript.lastIndexOf(".");
      if (last_space > last_period) {
        var pretty_descript = news_descript.substring(0, last_space+1) + ellipses;
      }
      else if (last_period > last_space) {
        var pretty_descript = news_descript.substring(0, last_period) + ellipses;
      }
      else {
        var pretty_descript = news_descript;
      }
      document.getElementById("title_8").innerHTML = data.articles[i+8].title;
      document.getElementById("title_8").href = data.articles[i+8].url;
      document.getElementById("image_8").src = data.articles[i+8].urlToImage;
      document.getElementById("preview_8").innerHTML = pretty_descript;
      var news_descript = data.articles[i+9].content.substring(0, 200);
      var ellipses = news_descript.charAt(199);
      var last_space = news_descript.lastIndexOf(" ");
      var last_period = news_descript.lastIndexOf(".");
      if (last_space > last_period) {
        var pretty_descript = news_descript.substring(0, last_space+1) + ellipses;
      }
      else if (last_period > last_space) {
        var pretty_descript = news_descript.substring(0, last_period) + ellipses;
      }
      else {
        var pretty_descript = news_descript;
      }
      document.getElementById("title_9").innerHTML = data.articles[i+9].title;
      document.getElementById("title_9").href = data.articles[i+9].url;
      document.getElementById("image_9").src = data.articles[i+9].urlToImage;
      document.getElementById("preview_9").innerHTML = pretty_descript;
  })

  function oneClicked() {
    page_num = 1;
    i = 0;
    updateNews();
    document.getElementById("prevButton").disabled = true;
    document.getElementById("prevButton").style.backgroundColor = '#2980B9';
    document.getElementById("prevButton").onclick = function () { oneClicked(); };

    document.getElementById("firstButton").disabled = true;
    document.getElementById("firstButton").style.backgroundColor = '#2980B9';
    document.getElementById("firstButton").innerHTML = "1";
    document.getElementById("firstButton").onclick = function () { oneClicked(); };

    document.getElementById("secondButton").disabled = false;
    document.getElementById("secondButton").style.backgroundColor = '#141d26';
    document.getElementById("secondButton").innerHTML = "2";
    document.getElementById("secondButton").onclick = function () { twoClicked(); };

    document.getElementById("thirdButton").disabled = false;
    document.getElementById("thirdButton").style.backgroundColor = '#141d26';
    document.getElementById("thirdButton").innerHTML = "3";
    document.getElementById("thirdButton").onclick = function () { threeClicked(); };

    document.getElementById("fourthButton").disabled = true;
    document.getElementById("fourthButton").style.backgroundColor = '#141d26';
    document.getElementById("fourthButton").innerHTML = "...";
    document.getElementById("fourthButton").onclick = function () { fourClicked(); };

    document.getElementById("fifthButton").disabled = false;
    document.getElementById("fifthButton").style.backgroundColor = '#141d26';
    document.getElementById("fifthButton").innerHTML = "10";
    document.getElementById("fifthButton").onclick = function () { tenClicked(); };

    document.getElementById("nextButton").disabled = false;
    document.getElementById("nextButton").style.backgroundColor = '#141d26';
    document.getElementById("nextButton").onclick = function () { twoClicked(); };
  }

  function twoClicked() {
    page_num = 1;
    i = 10;
    updateNews();
    document.getElementById("prevButton").disabled = false;
    document.getElementById("prevButton").style.backgroundColor = '#141d26';
    document.getElementById("prevButton").onclick = function () { oneClicked(); };

    document.getElementById("firstButton").disabled = false;
    document.getElementById("firstButton").style.backgroundColor = '#141d26';
    document.getElementById("firstButton").innerHTML = "1";
    document.getElementById("firstButton").onclick = function () { oneClicked(); };

    document.getElementById("secondButton").disabled = true;
    document.getElementById("secondButton").style.backgroundColor = '#2980B9';
    document.getElementById("secondButton").innerHTML = "2";
    document.getElementById("secondButton").onclick = function () { twoClicked(); };

    document.getElementById("thirdButton").disabled = false;
    document.getElementById("thirdButton").style.backgroundColor = '#141d26';
    document.getElementById("thirdButton").innerHTML = "3";
    document.getElementById("thirdButton").onclick = function () { threeClicked(); };

    document.getElementById("fourthButton").disabled = true;
    document.getElementById("fourthButton").style.backgroundColor = '#141d26';
    document.getElementById("fourthButton").innerHTML = "...";
    document.getElementById("fourthButton").onclick = function () { fourClicked(); };

    document.getElementById("fifthButton").disabled = false;
    document.getElementById("fifthButton").style.backgroundColor = '#141d26';
    document.getElementById("fifthButton").innerHTML = "10";
    document.getElementById("fifthButton").onclick = function () { tenClicked(); };

    document.getElementById("nextButton").disabled = false;
    document.getElementById("nextButton").style.backgroundColor = '#141d26';
    document.getElementById("nextButton").onclick = function () { threeClicked(); };
  }

  function threeClicked() {
    page_num = 2;
    i = 0;
    updateNews();
    document.getElementById("prevButton").disabled = false;
    document.getElementById("prevButton").style.backgroundColor = '#141d26';
    document.getElementById("prevButton").onclick = function () { twoClicked(); };

    document.getElementById("firstButton").disabled = false;
    document.getElementById("firstButton").style.backgroundColor = '#141d26';
    document.getElementById("firstButton").innerHTML = "1";
    document.getElementById("firstButton").onclick = function () { oneClicked(); };

    document.getElementById("secondButton").disabled = false;
    document.getElementById("secondButton").style.backgroundColor = '#141d26';
    document.getElementById("secondButton").innerHTML = "2";
    document.getElementById("secondButton").onclick = function () { twoClicked(); };

    document.getElementById("thirdButton").disabled = true;
    document.getElementById("thirdButton").style.backgroundColor = '#2980B9';
    document.getElementById("thirdButton").innerHTML = "3";
    document.getElementById("thirdButton").onclick = function () { threeClicked(); };

    document.getElementById("fourthButton").disabled = true;
    document.getElementById("fourthButton").style.backgroundColor = '#141d26';
    document.getElementById("fourthButton").innerHTML = "...";
    document.getElementById("fourthButton").onclick = function () { fourClicked(); };

    document.getElementById("fifthButton").disabled = false;
    document.getElementById("fifthButton").style.backgroundColor = '#141d26';
    document.getElementById("fifthButton").innerHTML = "10";
    document.getElementById("fifthButton").onclick = function () { tenClicked(); };

    document.getElementById("nextButton").disabled = false;
    document.getElementById("nextButton").style.backgroundColor = '#141d26';
    document.getElementById("nextButton").onclick = function () { fourClicked(); };
  }

  function fourClicked() {
    page_num = 2;
    i = 10;
    updateNews();
    document.getElementById("prevButton").disabled = false;
    document.getElementById("prevButton").style.backgroundColor = '#141d26';
    document.getElementById("prevButton").onclick = function () { threeClicked(); };

    document.getElementById("firstButton").disabled = false;
    document.getElementById("firstButton").style.backgroundColor = '#141d26';
    document.getElementById("firstButton").innerHTML = "2";
    document.getElementById("firstButton").onclick = function () { twoClicked(); };

    document.getElementById("secondButton").disabled = false;
    document.getElementById("secondButton").style.backgroundColor = '#141d26';
    document.getElementById("secondButton").innerHTML = "3";
    document.getElementById("secondButton").onclick = function () { threeClicked(); };

    document.getElementById("thirdButton").disabled = true;
    document.getElementById("thirdButton").style.backgroundColor = '#2980B9';
    document.getElementById("thirdButton").innerHTML = "4";
    document.getElementById("thirdButton").onclick = function () { fourClicked(); };

    document.getElementById("fourthButton").disabled = true;
    document.getElementById("fourthButton").style.backgroundColor = '#141d26';
    document.getElementById("fourthButton").innerHTML = "...";
    document.getElementById("fourthButton").onclick = function () { fiveClicked(); };

    document.getElementById("fifthButton").disabled = false;
    document.getElementById("fifthButton").style.backgroundColor = '#141d26';
    document.getElementById("fifthButton").innerHTML = "10";
    document.getElementById("fifthButton").onclick = function () { tenClicked(); };

    document.getElementById("nextButton").disabled = false;
    document.getElementById("nextButton").style.backgroundColor = '#141d26';
    document.getElementById("nextButton").onclick = function () { fiveClicked(); };
  }

  function fiveClicked() {
    page_num = 3;
    i = 0;
    updateNews();
    document.getElementById("prevButton").disabled = false;
    document.getElementById("prevButton").style.backgroundColor = '#141d26';
    document.getElementById("prevButton").onclick = function () { fourClicked(); };

    document.getElementById("firstButton").disabled = false;
    document.getElementById("firstButton").style.backgroundColor = '#141d26';
    document.getElementById("firstButton").innerHTML = "3";
    document.getElementById("firstButton").onclick = function () { threeClicked(); };

    document.getElementById("secondButton").disabled = false;
    document.getElementById("secondButton").style.backgroundColor = '#141d26';
    document.getElementById("secondButton").innerHTML = "4";
    document.getElementById("secondButton").onclick = function () { fourClicked(); };

    document.getElementById("thirdButton").disabled = true
    document.getElementById("thirdButton").style.backgroundColor = '#2980B9';
    document.getElementById("thirdButton").innerHTML = "5";
    document.getElementById("thirdButton").onclick = function () { fiveClicked(); };

    document.getElementById("fourthButton").disabled = true;
    document.getElementById("fourthButton").style.backgroundColor = '#141d26';
    document.getElementById("fourthButton").innerHTML = "...";
    document.getElementById("fourthButton").onclick = function () { sixClicked(); };

    document.getElementById("fifthButton").disabled = false;
    document.getElementById("fifthButton").style.backgroundColor = '#141d26';
    document.getElementById("fifthButton").innerHTML = "10";
    document.getElementById("fifthButton").onclick = function () { tenClicked(); };

    document.getElementById("nextButton").disabled = false;
    document.getElementById("nextButton").style.backgroundColor = '#141d26';
    document.getElementById("nextButton").onclick = function () { sixClicked(); };
  }

  function sixClicked() {
    page_num = 3;
    i = 10;
    updateNews();
    document.getElementById("prevButton").disabled = false;
    document.getElementById("prevButton").style.backgroundColor = '#141d26';
    document.getElementById("prevButton").onclick = function () { fiveClicked(); };

    document.getElementById("firstButton").disabled = false;
    document.getElementById("firstButton").style.backgroundColor = '#141d26';
    document.getElementById("firstButton").innerHTML = "4";
    document.getElementById("firstButton").onclick = function () { fourClicked(); };

    document.getElementById("secondButton").disabled = false;
    document.getElementById("secondButton").style.backgroundColor = '#141d26';
    document.getElementById("secondButton").innerHTML = "5";
    document.getElementById("secondButton").onclick = function () { fiveClicked(); };

    document.getElementById("thirdButton").disabled = true;
    document.getElementById("thirdButton").style.backgroundColor = '#2980B9';
    document.getElementById("thirdButton").innerHTML = "6";
    document.getElementById("thirdButton").onclick = function () { sixClicked(); };

    document.getElementById("fourthButton").disabled = true;
    document.getElementById("fourthButton").style.backgroundColor = '#141d26';
    document.getElementById("fourthButton").innerHTML = "...";
    document.getElementById("fourthButton").onclick = function () { sevenClicked(); };

    document.getElementById("fifthButton").disabled = false;
    document.getElementById("fifthButton").style.backgroundColor = '#141d26';
    document.getElementById("fifthButton").innerHTML = "10";
    document.getElementById("fifthButton").onclick = function () { tenClicked(); };

    document.getElementById("nextButton").disabled = false;
    document.getElementById("nextButton").style.backgroundColor = '#141d26';
    document.getElementById("nextButton").onclick = function () { sevenClicked(); };
  }

  function sevenClicked() {
    page_num = 4;
    i = 0;
    updateNews();
    document.getElementById("prevButton").disabled = false;
    document.getElementById("prevButton").style.backgroundColor = '#141d26';
    document.getElementById("prevButton").onclick = function () { sixClicked(); };

    document.getElementById("firstButton").disabled = false;
    document.getElementById("firstButton").style.backgroundColor = '#141d26';
    document.getElementById("firstButton").innerHTML = "5";
    document.getElementById("firstButton").onclick = function () { fiveClicked(); };

    document.getElementById("secondButton").disabled = false;
    document.getElementById("secondButton").style.backgroundColor = '#141d26';
    document.getElementById("secondButton").innerHTML = "6";
    document.getElementById("secondButton").onclick = function () { sixClicked(); };

    document.getElementById("thirdButton").disabled = true;
    document.getElementById("thirdButton").style.backgroundColor = '#2980B9';
    document.getElementById("thirdButton").innerHTML = "7";
    document.getElementById("thirdButton").onclick = function () { sevenClicked(); };

    document.getElementById("fourthButton").disabled = true;
    document.getElementById("fourthButton").style.backgroundColor = '#141d26';
    document.getElementById("fourthButton").innerHTML = "...";
    document.getElementById("fourthButton").onclick = function () { eightClicked(); };

    document.getElementById("fifthButton").disabled = false;
    document.getElementById("fifthButton").style.backgroundColor = '#141d26';
    document.getElementById("fifthButton").innerHTML = "10";
    document.getElementById("fifthButton").onclick = function () { tenClicked(); };

    document.getElementById("nextButton").disabled = false;
    document.getElementById("nextButton").style.backgroundColor = '#141d26';
    document.getElementById("nextButton").onclick = function () { eightClicked(); };
  }

  function eightClicked() {
    page_num = 4;
    i = 10;
    updateNews();
    document.getElementById("prevButton").disabled = false;
    document.getElementById("prevButton").style.backgroundColor = '#141d26';
    document.getElementById("prevButton").onclick = function () { sevenClicked(); };

    document.getElementById("firstButton").disabled = false;
    document.getElementById("firstButton").style.backgroundColor = '#141d26';
    document.getElementById("firstButton").innerHTML = "6";
    document.getElementById("firstButton").onclick = function () { sixClicked(); };

    document.getElementById("secondButton").disabled = false;
    document.getElementById("secondButton").style.backgroundColor = '#141d26';
    document.getElementById("secondButton").innerHTML = "7";
    document.getElementById("secondButton").onclick = function () { sevenClicked(); };

    document.getElementById("thirdButton").disabled = true;
    document.getElementById("thirdButton").style.backgroundColor = '#2980B9';
    document.getElementById("thirdButton").innerHTML = "8";
    document.getElementById("thirdButton").onclick = function () { eightClicked(); };

    document.getElementById("fourthButton").disabled = false;
    document.getElementById("fourthButton").style.backgroundColor = '#141d26';
    document.getElementById("fourthButton").innerHTML = "9";
    document.getElementById("fourthButton").onclick = function () { nineClicked(); };

    document.getElementById("fifthButton").disabled = false;
    document.getElementById("fifthButton").style.backgroundColor = '#141d26';
    document.getElementById("fifthButton").innerHTML = "10";
    document.getElementById("fifthButton").onclick = function () { tenClicked(); };

    document.getElementById("nextButton").disabled = false;
    document.getElementById("nextButton").style.backgroundColor = '#141d26';
    document.getElementById("nextButton").onclick = function () { nineClicked(); };
  }

  function nineClicked() {
    page_num = 5;
    i = 0;
    updateNews();
    document.getElementById("prevButton").disabled = false;
    document.getElementById("prevButton").style.backgroundColor = '#141d26';
    document.getElementById("prevButton").onclick = function () { eightClicked(); };

    document.getElementById("firstButton").disabled = false;
    document.getElementById("firstButton").style.backgroundColor = '#141d26';
    document.getElementById("firstButton").innerHTML = "6";
    document.getElementById("firstButton").onclick = function () { sixClicked(); };

    document.getElementById("secondButton").disabled = false;
    document.getElementById("secondButton").style.backgroundColor = '#141d26';
    document.getElementById("secondButton").innerHTML = "7";
    document.getElementById("secondButton").onclick = function () { sevenClicked(); };

    document.getElementById("thirdButton").disabled = false;
    document.getElementById("thirdButton").style.backgroundColor = '#141d26';
    document.getElementById("thirdButton").innerHTML = "8";
    document.getElementById("thirdButton").onclick = function () { eightClicked(); };

    document.getElementById("fourthButton").disabled = true;
    document.getElementById("fourthButton").style.backgroundColor = '#2980B9';
    document.getElementById("fourthButton").innerHTML = "9";
    document.getElementById("fourthButton").onclick = function () { nineClicked(); };

    document.getElementById("fifthButton").disabled = false;
    document.getElementById("fifthButton").style.backgroundColor = '#141d26';
    document.getElementById("fifthButton").innerHTML = "10";
    document.getElementById("fifthButton").onclick = function () { tenClicked(); };

    document.getElementById("nextButton").disabled = false;
    document.getElementById("nextButton").style.backgroundColor = '#141d26';
    document.getElementById("nextButton").onclick = function () { tenClicked(); };
  }

  function tenClicked() {
    page_num = 5;
    i = 10;
    updateNews();
    document.getElementById("prevButton").disabled = false;
    document.getElementById("prevButton").style.backgroundColor = '#141d26';
    document.getElementById("prevButton").onclick = function () { nineClicked(); };

    document.getElementById("firstButton").disabled = false;
    document.getElementById("firstButton").style.backgroundColor = '#141d26';
    document.getElementById("firstButton").innerHTML = "6";
    document.getElementById("firstButton").onclick = function () { sixClicked(); };

    document.getElementById("secondButton").disabled = false;
    document.getElementById("secondButton").style.backgroundColor = '#141d26';
    document.getElementById("secondButton").innerHTML = "7";
    document.getElementById("secondButton").onclick = function () { sevenClicked(); };

    document.getElementById("thirdButton").disabled = false;
    document.getElementById("thirdButton").style.backgroundColor = '#141d26';
    document.getElementById("thirdButton").innerHTML = "8";
    document.getElementById("thirdButton").onclick = function () { eightClicked(); };

    document.getElementById("fourthButton").disabled = false;
    document.getElementById("fourthButton").style.backgroundColor = '#141d26';
    document.getElementById("fourthButton").innerHTML = "9";
    document.getElementById("fourthButton").onclick = function () { nineClicked(); };

    document.getElementById("fifthButton").disabled = true;
    document.getElementById("fifthButton").style.backgroundColor = '#2980B9';
    document.getElementById("fifthButton").innerHTML = "10";
    document.getElementById("fifthButton").onclick = function () { tenClicked(); };

    document.getElementById("nextButton").disabled = true;
    document.getElementById("nextButton").style.backgroundColor = '#2980B9';
    document.getElementById("nextButton").onclick = function () { tenClicked(); };
  }

    function updateNews() {
      fetch("https://newsapi.org/v2/everything?apiKey=a791d1a1c2674ac8914503c53d9a1e8b&language=en&q=bitcoin&page=" + page_num).then(r => r.json()).then(data => {
          var num_articles = data.totalResults;
          console.log(num_articles + " articles found");
          var news_descript = data.articles[i].content.substring(0, 200);
          var ellipses = news_descript.charAt(199);
          var last_space = news_descript.lastIndexOf(" ");
          var last_period = news_descript.lastIndexOf(".");
          if (last_space > last_period) {
            var pretty_descript = news_descript.substring(0, last_space+1) + ellipses;
          }
          else if (last_period > last_space) {
            var pretty_descript = news_descript.substring(0, last_period) + ellipses;
          }
          else {
            var pretty_descript = news_descript;
          }
          document.getElementById("title_0").innerHTML = data.articles[i].title;
          document.getElementById("title_0").href = data.articles[i].url;
          document.getElementById("image_0").src = data.articles[i].urlToImage;
          document.getElementById("preview_0").innerHTML = pretty_descript;
          var news_descript = data.articles[i+1].content.substring(0, 200);
          var ellipses = news_descript.charAt(199);
          var last_space = news_descript.lastIndexOf(" ");
          var last_period = news_descript.lastIndexOf(".");
          if (last_space > last_period) {
            var pretty_descript = news_descript.substring(0, last_space+1) + ellipses;
          }
          else if (last_period > last_space) {
            var pretty_descript = news_descript.substring(0, last_period) + ellipses;
          }
          else {
            var pretty_descript = news_descript;
          }
          document.getElementById("title_1").innerHTML = data.articles[i+1].title;
          document.getElementById("title_1").href = data.articles[i+1].url;
          document.getElementById("image_1").src = data.articles[i+1].urlToImage;
          document.getElementById("preview_1").innerHTML = pretty_descript;
          var news_descript = data.articles[i+2].content.substring(0, 200);
          var ellipses = news_descript.charAt(199);
          var last_space = news_descript.lastIndexOf(" ");
          var last_period = news_descript.lastIndexOf(".");
          if (last_space > last_period) {
            var pretty_descript = news_descript.substring(0, last_space+1) + ellipses;
          }
          else if (last_period > last_space) {
            var pretty_descript = news_descript.substring(0, last_period) + ellipses;
          }
          else {
            var pretty_descript = news_descript;
          }
          document.getElementById("title_2").innerHTML = data.articles[i+2].title;
          document.getElementById("title_2").href = data.articles[i+2].url;
          document.getElementById("image_2").src = data.articles[i+2].urlToImage;
          document.getElementById("preview_2").innerHTML = pretty_descript;
          var news_descript = data.articles[i+3].content.substring(0, 200);
          var ellipses = news_descript.charAt(199);
          var last_space = news_descript.lastIndexOf(" ");
          var last_period = news_descript.lastIndexOf(".");
          if (last_space > last_period) {
            var pretty_descript = news_descript.substring(0, last_space+1) + ellipses;
          }
          else if (last_period > last_space) {
            var pretty_descript = news_descript.substring(0, last_period) + ellipses;
          }
          else {
            var pretty_descript = news_descript;
          }
          document.getElementById("title_3").innerHTML = data.articles[i+3].title;
          document.getElementById("title_3").href = data.articles[i+3].url;
          document.getElementById("image_3").src = data.articles[i+3].urlToImage;
          document.getElementById("preview_3").innerHTML = pretty_descript;
          var news_descript = data.articles[i+4].content.substring(0, 200);
          var ellipses = news_descript.charAt(199);
          var last_space = news_descript.lastIndexOf(" ");
          var last_period = news_descript.lastIndexOf(".");
          if (last_space > last_period) {
            var pretty_descript = news_descript.substring(0, last_space+1) + ellipses;
          }
          else if (last_period > last_space) {
            var pretty_descript = news_descript.substring(0, last_period) + ellipses;
          }
          else {
            var pretty_descript = news_descript;
          }
          document.getElementById("title_4").innerHTML = data.articles[i+4].title;
          document.getElementById("title_4").href = data.articles[i+4].url;
          document.getElementById("image_4").src = data.articles[i+4].urlToImage;
          document.getElementById("preview_4").innerHTML = pretty_descript;
          var news_descript = data.articles[i+5].content.substring(0, 200);
          var ellipses = news_descript.charAt(199);
          var last_space = news_descript.lastIndexOf(" ");
          var last_period = news_descript.lastIndexOf(".");
          if (last_space > last_period) {
            var pretty_descript = news_descript.substring(0, last_space+1) + ellipses;
          }
          else if (last_period > last_space) {
            var pretty_descript = news_descript.substring(0, last_period) + ellipses;
          }
          else {
            var pretty_descript = news_descript;
          }
          document.getElementById("title_5").innerHTML = data.articles[i+5].title;
          document.getElementById("title_5").href = data.articles[i+5].url;
          document.getElementById("image_5").src = data.articles[i+5].urlToImage;
          document.getElementById("preview_5").innerHTML = pretty_descript;
          var news_descript = data.articles[i+6].content.substring(0, 200);
          var ellipses = news_descript.charAt(199);
          var last_space = news_descript.lastIndexOf(" ");
          var last_period = news_descript.lastIndexOf(".");
          if (last_space > last_period) {
            var pretty_descript = news_descript.substring(0, last_space+1) + ellipses;
          }
          else if (last_period > last_space) {
            var pretty_descript = news_descript.substring(0, last_period) + ellipses;
          }
          else {
            var pretty_descript = news_descript;
          }
          document.getElementById("title_6").innerHTML = data.articles[i+6].title;
          document.getElementById("title_6").href = data.articles[i+6].url;
          document.getElementById("image_6").src = data.articles[i+6].urlToImage;
          document.getElementById("preview_6").innerHTML = pretty_descript;
          var news_descript = data.articles[i+7].content.substring(0, 200);
          var ellipses = news_descript.charAt(199);
          var last_space = news_descript.lastIndexOf(" ");
          var last_period = news_descript.lastIndexOf(".");
          if (last_space > last_period) {
            var pretty_descript = news_descript.substring(0, last_space+1) + ellipses;
          }
          else if (last_period > last_space) {
            var pretty_descript = news_descript.substring(0, last_period) + ellipses;
          }
          else {
            var pretty_descript = news_descript;
          }
          document.getElementById("title_7").innerHTML = data.articles[i+7].title;
          document.getElementById("title_7").href = data.articles[i+7].url;
          document.getElementById("image_7").src = data.articles[i+7].urlToImage;
          document.getElementById("preview_7").innerHTML = pretty_descript;
          var news_descript = data.articles[i+8].content.substring(0, 200);
          var ellipses = news_descript.charAt(199);
          var last_space = news_descript.lastIndexOf(" ");
          var last_period = news_descript.lastIndexOf(".");
          if (last_space > last_period) {
            var pretty_descript = news_descript.substring(0, last_space+1) + ellipses;
          }
          else if (last_period > last_space) {
            var pretty_descript = news_descript.substring(0, last_period) + ellipses;
          }
          else {
            var pretty_descript = news_descript;
          }
          document.getElementById("title_8").innerHTML = data.articles[i+8].title;
          document.getElementById("title_8").href = data.articles[i+8].url;
          document.getElementById("image_8").src = data.articles[i+8].urlToImage;
          document.getElementById("preview_8").innerHTML = pretty_descript;
          var news_descript = data.articles[i+9].content.substring(0, 200);
          var ellipses = news_descript.charAt(199);
          var last_space = news_descript.lastIndexOf(" ");
          var last_period = news_descript.lastIndexOf(".");
          if (last_space > last_period) {
            var pretty_descript = news_descript.substring(0, last_space+1) + ellipses;
          }
          else if (last_period > last_space) {
            var pretty_descript = news_descript.substring(0, last_period) + ellipses;
          }
          else {
            var pretty_descript = news_descript;
          }
          document.getElementById("title_9").innerHTML = data.articles[i+9].title;
          document.getElementById("title_9").href = data.articles[i+9].url;
          document.getElementById("image_9").src = data.articles[i+9].urlToImage;
          document.getElementById("preview_9").innerHTML = pretty_descript;
      })
    }
  function rightClicked() {
    if (i === 10) {
      page_num++;
      i = 0;
    }
    else {
      i = 10;
    }
    fetch("https://newsapi.org/v2/everything?apiKey=a791d1a1c2674ac8914503c53d9a1e8b&language=en&q=bitcoin&page=" + page_num).then(r => r.json()).then(data => {
        var num_articles = data.totalResults;
        console.log(num_articles + " articles found");
        document.getElementById("title_0").innerHTML = data.articles[i].title;
        document.getElementById("title_0").href = data.articles[i].url;
        document.getElementById("image_0").src = data.articles[i].urlToImage;
        document.getElementById("preview_0").innerHTML = data.articles[i].content.substring(0, 200);
        document.getElementById("title_1").innerHTML = data.articles[i+1].title;
        document.getElementById("title_1").href = data.articles[i+1].url;
        document.getElementById("image_1").src = data.articles[i+1].urlToImage;
        document.getElementById("preview_1").innerHTML = data.articles[i+1].content.substring(0, 200);
        document.getElementById("title_2").innerHTML = data.articles[i+2].title;
        document.getElementById("title_2").href = data.articles[i+2].url;
        document.getElementById("image_2").src = data.articles[i+2].urlToImage;
        document.getElementById("preview_2").innerHTML = data.articles[i+2].content.substring(0, 200);
        document.getElementById("title_3").innerHTML = data.articles[i+3].title;
        document.getElementById("title_3").href = data.articles[i+3].url;
        document.getElementById("image_3").src = data.articles[i+3].urlToImage;
        document.getElementById("preview_3").innerHTML = data.articles[i+3].content.substring(0, 200);
        document.getElementById("title_4").innerHTML = data.articles[i+4].title;
        document.getElementById("title_4").href = data.articles[i+4].url;
        document.getElementById("image_4").src = data.articles[i+4].urlToImage;
        document.getElementById("preview_4").innerHTML = data.articles[i+4].content.substring(0, 200);
        document.getElementById("title_5").innerHTML = data.articles[i+5].title;
        document.getElementById("title_5").href = data.articles[i+5].url;
        document.getElementById("image_5").src = data.articles[i+5].urlToImage;
        document.getElementById("preview_5").innerHTML = data.articles[i+5].content.substring(0, 200);
        document.getElementById("title_6").innerHTML = data.articles[i+6].title;
        document.getElementById("title_6").href = data.articles[i+6].url;
        document.getElementById("image_6").src = data.articles[i+6].urlToImage;
        document.getElementById("preview_6").innerHTML = data.articles[i+6].content.substring(0, 200);
        document.getElementById("title_7").innerHTML = data.articles[i+7].title;
        document.getElementById("title_7").href = data.articles[i+7].url;
        document.getElementById("image_7").src = data.articles[i+7].urlToImage;
        document.getElementById("preview_7").innerHTML = data.articles[i+7].content.substring(0, 200);
        document.getElementById("title_8").innerHTML = data.articles[i+8].title;
        document.getElementById("title_8").href = data.articles[i+8].url;
        document.getElementById("image_8").src = data.articles[i+8].urlToImage;
        document.getElementById("preview_8").innerHTML = data.articles[i+8].content.substring(0, 200);
        document.getElementById("title_9").innerHTML = data.articles[i+9].title;
        document.getElementById("title_9").href = data.articles[i+9].url;
        document.getElementById("image_9").src = data.articles[i+9].urlToImage;
        document.getElementById("preview_9").innerHTML = data.articles[i+9].content.substring(0, 200);
    })
  }
  // Initialize scrolling bar
  const Marquee = dynamicMarquee.Marquee;
  const marquee = new Marquee(document.getElementById('marquee'), {
      // Move words 100px/s to the left
      rate: -100
  })

  // Concat popular coins to scrolling bar
  getPopularCoins().then(coins => {
      let popularCoins = ""
      coins.forEach(coin => {
          const tickerSymbol = coin["symbol"]
          const price = coin.current_price.toFixed(2)
          const priceChange = coin.price_change_24h
          const hasPriceIncreased = (priceChange >= 0) ? "↑" : "↓"

          const result = hasPriceIncreased + " " + tickerSymbol + " $" + price + "\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"

          popularCoins += result
      })

      // Add popular coins to scrolling bar
      // For looping infinitely, the dynamicMarquee library
      //      uses an array of functions which return strings or elements to iterate through
      // TODO: What is "window.l"?
      window.l = dynamicMarquee.loop(marquee, [
      () => popularCoins
  ])
  })
  </script>
</html>
