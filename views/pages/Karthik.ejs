<!DOCTYPE html>
<html>
  <head>
    <title>Crypto Calc</title>
    <link rel="stylesheet" type="text/css" href="stylesheets/Karthik.css">
  </head>
  <body>
      <h1 contenteditable spellcheck="false">Crypto Calc</h1>
    <form class="input">
    Input :
      <input type="text" name="Input" id="txtInput">
    </form>
    <form class="output">
    Output :
      <input type = "text" name "output" id= "txtOutput">
    </form>

    <table>
      <tr>
        <th> Date and Time: </th>
        <th> Input: </th>
        <th> Output: </th>
      </tr>
      <tr>
        <td>Wednesday, June 9th. 9:41 PM</td>
        <td>Example Input</td>
        <td>Example Output</td>
      </tr>
    </table>
    <button class= "button button1" onclick="convert()">ENTER</button>

    <div class="dropdown v1" style="position: fixed; top: 47%; left: 23%;">
      <label for="currency"> Choose an input: </label>
      <select name="input currencty" id="inputCurrency">
        <option value="Bitcoin">Bitcoin</option>
      </select>
    </div>

<div class="dropdown v2" style="position: fixed; top: 47%; left: 42%;">
  <label for="coins"> Choose a coin: </label>
  <select id= "coin_value">
    <option value="blank" ></option>
    <option value="Litecoin">Litecoin</option>
    <option value="Ethereum">Ethereum</option>
    <option value="Bitcoin Cash">Bitcoin Cash</option>
  </select>
</div>


  </body>
  <script>

  var factor = 0;




  function convert(){
    var inputVal = document.getElementById("txtInput");
    var outputVal = document.getElementById("txtOutput");
    var currency = inputVal.value;
    var num = currency * factor;
    outputVal.value = num;
    
    if(document.getElementById("coin_value").value == "Litecoin"){
      fetch("http://api.coingecko.com/api/v3/exchange_rates").then(r => r.json()).then(data => {
        factor = data.rates.ltc.value;
      })
    }

    if(document.getElementById("coin_value").value == "Ethereum"){
      fetch("http://api.coingecko.com/api/v3/exchange_rates").then(r => r.json()).then(data => {
        factor = data.rates.eth.value;
      })
    }

    if(document.getElementById("coin_value").value == "Bitcoin Cash"){
      fetch("http://api.coingecko.com/api/v3/exchange_rates").then(r => r.json()).then(data => {
        factor = data.rates.bch.value;
      })
    }
  }


  </script>
</html>
